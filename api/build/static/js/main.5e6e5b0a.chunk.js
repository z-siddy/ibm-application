(this["webpackJsonpmeme-generator"]=this["webpackJsonpmeme-generator"]||[]).push([[0],{21:function(e,t,a){e.exports=a(46)},26:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),l=a.n(o),c=(a(26),a(3)),i=a.n(c),s=a(4),m=a(16),u=a(17),h=a(20),p=a(18),d=a(2),g=a(19),b=a(5),f=a.n(b),v=(a(45),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={file:null,topText:null,bottomText:null,imgUrl:null,previewLink:null},a.handleImgChange=a.handleImgChange.bind(Object(d.a)(a)),a.handleTopTextChange=a.handleTopTextChange.bind(Object(d.a)(a)),a.handleBottomTextChange=a.handleBottomTextChange.bind(Object(d.a)(a)),a.handleImgUrlChange=a.handleImgUrlChange.bind(Object(d.a)(a)),a.updateImg=a.updateImg.bind(Object(d.a)(a)),a.generateMeme=a.generateMeme.bind(Object(d.a)(a)),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("/img/meme.jpg",{responseType:"arraybuffer"}).then(function(){var t=Object(s.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Blob([a.data]);case 2:return n=t.sent,t.next=5,new File([n],"meme.jpg");case 5:n=t.sent,e.setState({file:n,previewLink:URL.createObjectURL(n)});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"handleImgChange",value:function(e){this.setState({file:e.target.files[0],previewLink:URL.createObjectURL(e.target.files[0])})}},{key:"handleTopTextChange",value:function(e){this.setState({topText:e.target.value})}},{key:"handleBottomTextChange",value:function(e){this.setState({bottomText:e.target.value})}},{key:"handleImgUrlChange",value:function(e){this.setState({imgUrl:"https://cors-anywhere.herokuapp.com/"+e.target.value})}},{key:"updateImg",value:function(){var e=this;f.a.get(this.state.imgUrl,{responseType:"arraybuffer"}).then(function(){var t=Object(s.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Blob([a.data]);case 2:return n=t.sent,t.next=5,new File([n],"meme.jpg");case 5:n=t.sent,e.setState({file:n,previewLink:URL.createObjectURL(n)});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"getFileExtension",value:function(e){return/[.]/.exec(e)?/[^.]+$/.exec(e)[0]:void 0}},{key:"generateMeme",value:function(){var e=this,t=new FormData;t.append("file",this.state.file),t.append("topText",this.state.topText),t.append("bottomText",this.state.bottomText);f.a.post("/upload",t,{headers:{"content-type":"multipart/form-data"}}).then(function(){var t=Object(s.a)(i.a.mark((function t(a){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getFileExtension(a.data.path),(r=document.createElement("a")).href="/".concat(a.data.path,"/download"),r.setAttribute("download","meme."+n),document.body.appendChild(r),t.next=7,r.click();case 7:return t.next=9,r.remove();case 9:alert("Thank you for using this amazing APP!");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("h2",null,"Made by ",r.a.createElement("a",{href:"https://github.com/z-siddy/"},"z.siddy"))),r.a.createElement("div",{className:"col-12 col-lg-6 input-box"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"btn-bs-file btn btn-lg btn-custom"},"UPLOAD IMAGE",r.a.createElement("input",{type:"file",onChange:this.handleImgChange}))),r.a.createElement("div",{className:"form-group custom-box"},r.a.createElement("label",{htmlFor:"meme-text-top"},"Image URL"),r.a.createElement("input",{type:"text",className:"form-control",id:"url-meme",placeholder:"http://...",onChange:this.handleImgUrlChange}),r.a.createElement("button",{className:"btn btn-custom",onClick:this.updateImg,style:{marginTop:"1rem",width:"100%"}},"FETCH IMAGE")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"meme-text-top"},"TOP TEXT"),r.a.createElement("input",{type:"text",className:"form-control",id:"meme-text-top",placeholder:"...",onChange:this.handleTopTextChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"meme-text-bot"},"BOTTOM TEXT"),r.a.createElement("input",{type:"text",className:"form-control",id:"meme-text-bot",placeholder:"...",onChange:this.handleBottomTextChange})),this.state.topText&&this.state.bottomText?r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-custom",onClick:this.generateMeme,style:{marginTop:"1rem",width:"100%"}},"DOWNLOAD")):null),r.a.createElement("div",{className:"col-12 col-lg-6 meme-box"},r.a.createElement("img",{className:"img-fluid",src:this.state.previewLink,alt:"Meme pic"}),r.a.createElement("h2",{className:"top"},this.state.topText),r.a.createElement("h2",{className:"bottom"},this.state.bottomText))))}}]),t}(r.a.Component));var x=function(){return r.a.createElement("div",{className:"App container"},r.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.5e6e5b0a.chunk.js.map